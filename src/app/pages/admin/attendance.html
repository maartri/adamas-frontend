<div>
    <div nz-row>
        <div nz-col nzSpan="6" style="padding:15px;border-right: 1px solid #ededed;height: calc(100vh - 75px);overflow: auto;" >
            <div nz-row>
                <nz-date-picker [(ngModel)]="date" ></nz-date-picker>
            </div>

            <div nz-row>
                <div class="checkbox-group">
                    <label
                        nz-checkbox
                        [(ngModel)]="allCheckedBranches"
                        (ngModelChange)="updateAllBranches()"
                        [nzIndeterminate]="indeterminateBranch">All Branches</label>

                    <nz-checkbox-group [(ngModel)]="branches" (ngModelChange)="updateSingleCheckedBranches()"></nz-checkbox-group>
                </div>
            </div>

            <div nz-row>
                <div class="checkbox-group">
                    <label
                        nz-checkbox
                        [(ngModel)]="allCheckedTeams"
                        (ngModelChange)="updateAllTeams()"
                        [nzIndeterminate]="indeterminateTeams">All Teams/Areas</label>

                    <nz-checkbox-group [(ngModel)]="teams" (ngModelChange)="updateSingleCheckedTeams()"></nz-checkbox-group>
                </div>
            </div>

            <div nz-row>
                <div class="checkbox-group">
                    <label
                        nz-checkbox
                        [(ngModel)]="allCheckedCategories"
                        (ngModelChange)="updateAllCategories()"
                        [nzIndeterminate]="indeterminateCategories">All Categories</label>

                    <nz-checkbox-group [(ngModel)]="categories" (ngModelChange)="updateSingleCheckedCategories()"></nz-checkbox-group>
                </div>
            </div>

            <div nz-row>
                <div class="checkbox-group">
                    <label
                        nz-checkbox
                        [(ngModel)]="allCheckedCoordinators"
                        (ngModelChange)="updateAllCoordinators()"
                        [nzIndeterminate]="indeterminateCoordinators">All Coordinators</label>

                    <nz-checkbox-group [(ngModel)]="coordinators" (ngModelChange)="updateSingleCheckedCoordinators()"></nz-checkbox-group>
                </div>
            </div>
        </div>
        <div nz-col nzSpan="17" style="padding:15px"> 

           <div nz-row>

           </div>
           <div nz-row>

            <i nz-icon nzType="sync" (click)="reload()" nzTheme="outline"></i>
            <i nz-icon nzType="printer" nzTheme="outline"></i>
            <i nz-icon nzType="issues-close" nzTheme="outline"></i>
            
                <nz-tabset [nzTabPosition]="'top'" [nzSelectedIndex]="nzSelectedIndex" [nzType]="'card'">
                    <nz-tab nzTitle="Pending" (nzClick)="view(0)"> </nz-tab>
                    <nz-tab nzTitle="Active" (nzClick)="view(1)"> </nz-tab>
                    <nz-tab nzTitle="Completed" (nzClick)="view(2)"></nz-tab>
                    <nz-tab nzTitle="Alert Log" (nzClick)="view(3)"> </nz-tab>
                    <nz-tab nzTitle="Settings" (nzClick)="view(4)"> </nz-tab>              
                </nz-tabset>

                <div>
                    <div *ngIf="nzSelectedIndex == 0">
                        <nz-table #virtualTable nzVirtualScroll [nzData]="dataSet" [nzSize]="'small'" [nzLoading]="loadingPending" [nzBordered]="true"
                        [nzVirtualForTrackBy]="trackByIndex" [nzVirtualForTrackBy]="trackByIndex" [nzFrontPagination]="false" [nzSize]="'middle'"
                        [nzShowPagination]="false" [nzScroll]="{ x: '1000px', y: 'calc(100vh - 238px)' }">
                            <thead>
                              <tr>
                                <th style="width:200px">Staff</th>
                                <th style="width:200px">Recipient</th>
                                <th style="width:200px">Service Type</th>
                                <th style="width:100px">Roster Start</th>
                                <th style="width:100px">Duration</th>
                                <th style="width:100px">Roster End</th>
                                <th style="width:100px">Status</th>
                              </tr>
                            </thead>
                            <tbody>
                                <ng-template nz-virtual-scroll let-data let-index="index">
                                    <tr>
                                        <td style="width:200px">{{data.staff}}</td>
                                        <td style="width:200px">{{data.recipient}}</td>
                                        <td style="width:200px">{{data.serviceType}}</td>
        
                                        <td style="width:100px">{{data.rosterStart}}</td>
                                        <td style="width:100px">{{BlockToTime(data.duration)}}</td>
                                        <td style="width:100px">{{data.rosterEnd}}</td>
                                        <td style="width:100px">{{data.taMultishift}}</td>
                                      </tr>
                                </ng-template>                       
                            </tbody>
                          </nz-table>
                    </div>

                    <div *ngIf="nzSelectedIndex == 1">
                        <nz-table #virtualTable nzVirtualScroll [nzData]="dataSet" [nzSize]="'small'" [nzLoading]="loadingPending" [nzBordered]="true"
                        [nzVirtualForTrackBy]="trackByIndex" [nzVirtualForTrackBy]="trackByIndex" [nzFrontPagination]="false" 
                        [nzShowPagination]="false" [nzScroll]="{ x: '1100px', y: 'calc(100vh - 238px)' }">
                            <thead>
                              <tr>
                                <th style="width:200px">Staff</th>
                                <th style="width:200px">Recipient</th>
                                <th style="width:200px">Service Type</th>
                                <th style="width:100px">Roster Start</th>
                                <th style="width:100px">Duration</th>
                                <th style="width:100px">Roster End</th>
                                <th style="width:100px">Actual Start</th>
                                <th style="width:100px">Status</th>
                              </tr>
                            </thead>
                            <tbody>
                                <ng-template nz-virtual-scroll let-data let-index="index">
                                    <tr>
                                        <td style="width:200px">{{data.staff}}</td>
                                        <td style="width:200px">{{data.recipient}}</td>
                                        <td style="width:200px">{{data.serviceType}}</td>
        
                                        <td style="width:100px">{{data.rosterStart}}</td>
                                        <td style="width:100px">{{BlockToTime(data.duration)}}</td>
                                        <td style="width:100px">{{data.rosterEnd}}</td>
                                        <td style="width:100px">{{data.actualStart | date : 'HH:MM'}}</td>
                                        <td style="width:100px">{{data.taMultishift}}</td>
                                      </tr>
                                </ng-template>                       
                            </tbody>
                          </nz-table>
                    </div>

                    <div *ngIf="nzSelectedIndex == 2">
                        <nz-table #virtualTable nzVirtualScroll [nzData]="dataSet" [nzSize]="'small'" [nzLoading]="loadingPending" [nzBordered]="true"
                        [nzVirtualForTrackBy]="trackByIndex" [nzVirtualForTrackBy]="trackByIndex" [nzFrontPagination]="false" 
                        [nzShowPagination]="false" [nzScroll]="{ x: '1200px', y: 'calc(100vh - 238px)' }">
                            <thead>
                              <tr>
                                <th style="width:200px">Staff</th>
                                <th style="width:200px">Recipient</th>
                                <th style="width:200px">Service Type</th>
                                <th style="width:100px">Roster Start</th>
                                <th style="width:100px">Duration</th>
                                <th style="width:100px">Roster End</th>                                
                                <th style="width:100px">Actual Start</th>
                                <th style="width:100px">Actual End</th>
                                <th style="width:100px">Status</th>
                              </tr>
                            </thead>
                            <tbody>
                                <ng-template nz-virtual-scroll let-data let-index="index">
                                    <tr>
                                        <td style="width:200px">{{data.staff}}</td>
                                        <td style="width:200px">{{data.recipient}}</td>
                                        <td style="width:200px">{{data.serviceType}}</td>
        
                                        <td style="width:100px">{{data.rosterStart}}</td>
                                        <td style="width:100px">{{BlockToTime(data.duration)}}</td>
                                        <td style="width:100px">{{data.rosterEnd | date : 'HH:MM'}}</td>
                                        <td style="width:100px">{{data.actualStart | date : 'HH:MM'}}</td>
                                        <td style="width:100px">{{data.actualEnd | date : 'HH:MM'}}</td>
                                        <td style="width:100px">{{data.taMultishift}}</td>
                                      </tr>
                                </ng-template>                       
                            </tbody>
                          </nz-table>
                    </div>

                    <div *ngIf="nzSelectedIndex == 3">
                        <nz-table #virtualTable nzVirtualScroll [nzData]="dataSet" [nzSize]="'small'" [nzLoading]="loadingPending" [nzBordered]="true"
                        [nzVirtualForTrackBy]="trackByIndex" [nzVirtualForTrackBy]="trackByIndex" [nzFrontPagination]="false" [nzSize]="'middle'"
                        [nzShowPagination]="false" [nzScroll]="{ x: '1200px', y: 'calc(100vh - 238px)' }">
                            <thead>
                              <tr>
                                <th style="width:200px">Staff</th>
                                <th style="width:200px">Recipient</th>
                                <th style="width:200px">Service Type</th>
                                <th style="width:100px">Roster Start</th>
                                <th style="width:100px">Duration</th>
                                <th style="width:100px">Roster End</th>                               
                                <th style="width:100px">Actual Start</th>
                                <th style="width:100px">Actual End</th>
                                <th style="width:100px">Status</th>
                              </tr>
                            </thead>
                            <tbody>
                                <ng-template nz-virtual-scroll let-data let-index="index">
                                    <tr>
                                        <td style="width:200px">{{data.staff}}</td>
                                        <td style="width:200px">{{data.recipient}}</td>
                                        <td style="width:200px">{{data.serviceType}}</td>
        
                                        <td style="width:100px">{{data.rosterStart}}</td>
                                        <td style="width:100px">{{BlockToTime(data.duration)}}</td>
                                        <td style="width:100px">{{data.rosterEnd}}</td>                                        
                                        <td style="width:100px">{{data.actualStart | date : 'HH:MM'}}</td>
                                        <td style="width:100px">{{data.actualEnd | date : 'HH:MM'}}</td>
                                        <td style="width:100px">{{data.taMultishift}}</td>
                                      </tr>
                                </ng-template>                       
                            </tbody>
                          </nz-table>
                    </div>

                    <div *ngIf="nzSelectedIndex == 4">
                        <nz-table #virtualTable nzVirtualScroll [nzData]="dataSet" [nzSize]="'small'" [nzLoading]="loadingPending" [nzBordered]="true"
                        [nzVirtualForTrackBy]="trackByIndex" [nzVirtualForTrackBy]="trackByIndex" [nzFrontPagination]="false" [nzSize]="'middle'"
                        [nzShowPagination]="false" [nzScroll]="{ x: '1000px', y: 'calc(100vh - 238px)' }">
                            <thead>
                              <tr>
                                <th style="width:200px">Staff</th>
                                <th style="width:200px">Recipient</th>
                                <th style="width:200px">Service Type</th>
                                <th style="width:100px">Roster Start</th>
                                <th style="width:100px">Duration</th>
                                <th style="width:100px">Roster End</th>
                                <th style="width:100px">Status</th>
                              </tr>
                            </thead>
                            <tbody>
                                <ng-template nz-virtual-scroll let-data let-index="index">
                                    <tr>
                                        <td style="width:200px">{{data.staff}}</td>
                                        <td style="width:200px">{{data.recipient}}</td>
                                        <td style="width:200px">{{data.serviceType}}</td>
        
                                        <td style="width:100px">{{data.rosterStart}}</td>
                                        <td style="width:100px">{{BlockToTime(data.duration)}}</td>
                                        <td style="width:100px">{{data.rosterEnd}}</td>
                                        <td style="width:100px">{{data.taMultishift}}</td>
                                      </tr>
                                </ng-template>                       
                            </tbody>
                          </nz-table>
                    </div>
                </div>
           </div>
        </div>
    </div>
</div>