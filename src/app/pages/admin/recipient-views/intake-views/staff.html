<div nz-row class="mrg-btm">
    <div nz-col nzSpan="24">
        <button class="botton success" (click)="showAddModal(1)">Add Excluded Staff</button>
        <nz-table #headerTable  [nzShowPagination]="false" [nzLoading]="loading" [nzSize]="'small'"
        [nzFrontPagination]="false" [nzData]="excludedStaff" [nzScroll]="{ y: '240px' }">
        <thead>
            <tr>
                <th nzWidth="5%">#</th>
                <th nzWidth="15%">Name</th>
                <th nzWidth="10%">Creator</th>
                <th nzWidth="10%">Date Created</th>
                <th nzWidth="50%">Notes</th>
                <th nzWidth="10%" class="action">Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let data of headerTable.data;let i = index;trackBy: trackByFn">
                <td>{{ i+1  }}</td>
                <td>{{ data.name}}</td>
                <td>{{ data.creator }}</td>
                <td>{{ data.date1 | date: 'dd/MM/y'}}</td>
                <td>{{ data.notes }}</td>
                <td>
                    <a (click)="showEditModal(1,i)">Update</a>
                    <nz-divider nzType="vertical"></nz-divider>
                    <a nz-popconfirm nzPopconfirmTitle="Are you sure you want to delete this Entry from Excluded Staff List?"
                    nzPopconfirmPlacement="bottom" (nzOnConfirm)="delete(data.recordNumber)">Delete</a>
                </td>
            </tr>
        </tbody>
    </nz-table>
</div>
</div>
<div nz-row>
    <div nz-col nzSpan="24">
        <button class="botton success" (click)="showAddModal(2)">Add Approved Staff</button>
        <nz-table #headerTable2  [nzShowPagination]="false" [nzLoading]="loading" [nzSize]="'small'"
        [nzFrontPagination]="false" [nzData]="includedStaff" [nzScroll]="{ y: '240px' }">
        <thead>
            <tr>
                <th nzWidth="5%">#</th>
                <th nzWidth="15%">Name</th>
                <th nzWidth="10%">Creator</th>
                <th nzWidth="10%">Date Created</th>
                <th nzWidth="50%">Notes</th>
                <th nzWidth="10%" class="action">Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let data of headerTable2.data;let i = index;trackBy: trackByFn">
                <td nzWidth="5%">{{ i+1  }}</td>
                <td nzWidth="15%">{{ data.name}}</td>
                <td nzWidth="10%">{{ data.creator}}</td>
                <td nzWidth="10%">{{ data.date1 | date: 'dd/MM/y' }}</td>
                <td nzWidth="50%">{{ data.notes }}</td>
                <td nzWidth="10%">
                    <a (click)="showEditModal(2,i)">Update</a>
                    <nz-divider nzType="vertical"></nz-divider>
                    <a nz-popconfirm nzPopconfirmTitle="Are you sure you want to delete this Entry from Approved Staff List?"
                    nzPopconfirmPlacement="bottom" (nzOnConfirm)="delete(data.recordNumber)">Delete</a>
                </td>
            </tr>
        </tbody>
    </nz-table>
</div>
</div>

<nz-modal [(nzVisible)]="modalOpen" [nzTitle]="title" (nzOnCancel)="handleCancel()" >
    <nz-tabset [nzTabPosition]="'top'" [nzType]="'card'" [nzSelectedIndex]="tabFindIndex">
        <nz-tab nzTitle="Detail/s" (nzClick)="tabFindChange(0)"> </nz-tab>
    </nz-tabset>
    <div *ngIf="tabFindIndex == 0">
            <div nz-row [formGroup]="inputForm">
                <div nz-row>
                <div *ngIf="editOrAdd == 1" class="staff-wrapper" style="height: 15rem; width: 100%; overflow: auto; padding: .5rem 1rem; border: 1px solid #e9e9e9; border-radius: 3px;">
                    <h4 style="text-align:center;color:#1890FF">Tick The Checkbox Next To The Staff</h4>
                    <nz-checkbox-wrapper [ngModelOptions]="{standalone: true}" (nzOnChange)="logs($event)">
                        <div nz-row>
                            <div nz-col nzSpan="24" *ngFor="let list of listStaff">
                                <label nz-checkbox [nzValue]="list.value" [(ngModel)]="list.checked" [ngModelOptions]="{standalone: true}">{{ list.label }}</label>
                            </div>
                        </div>
                    </nz-checkbox-wrapper>
                </div>
                <div class="form-group" *ngIf="editOrAdd == 2">
                    <nz-form-label>{{ whatView == 1 ? 'Staff' :  'Staff'}}</nz-form-label>
                    <input nz-input formControlName="list" disabled />
                </div>
            </div>
            <div nz-row>
                <nz-form-item>
                    <nz-form-label>Notes</nz-form-label>
                    <nz-form-control nzErrorTip="Required Field">
                        <textarea rows="4" nz-input formControlName="notes"></textarea>                    
                    </nz-form-control>
                </nz-form-item>
            </div>
        </div>
        <div *nzModalFooter>
            <button nz-button nzType="default" (click)="handleCancel()">Cancel</button>
            <button nz-button nzType="primary" (click)="processBtn()" [disabled]="!this.inputForm.get('list').value" [nzLoading]="isLoading">Save</button>
        </div>
    </div>
</nz-modal>