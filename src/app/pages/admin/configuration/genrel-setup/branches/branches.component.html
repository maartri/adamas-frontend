<div style="padding:8px">
<div nz-row>
    <div nz-col>
        <button class="botton success" (click)="showAddModal()">Add Branch</button>
        <nz-table #basicTable [nzShowPagination]="false" [nzSize]="'small'" [nzFrontPagination]="false" [nzLoading]="loading"
            [nzData]="tableData">
            <thead>
                <tr>
                    <th class="left">Name</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let data of branchList;let i = index;">
                <td class="left">{{ data.description  }}</td>
                    <td>
                        <a (click)="showEditModal(i)">Update</a>
                        <nz-divider nzType="vertical"></nz-divider>
                        <a nz-popconfirm nzPopconfirmTitle="Are you sure you want to delete the branch?"
                            nzPopconfirmPlacement="bottom" (nzOnConfirm)="delete(data)">Delete</a>
                    </td>
                </tr>
            </tbody>
        </nz-table>
    </div>
</div>

<nz-modal [nzWidth]="700" [(nzVisible)]="modalOpen" [nzTitle]="'Add Branch'" (nzOnCancel)="handleCancel()">
    <div class="flexy">
    <nz-steps [nzSize]="'small'" [nzCurrent]="current" nzDirection="vertical">
        <nz-step class="mini" nzTitle="Details" nzDescription=""></nz-step>
        <nz-step class="mini" nzTitle="Time & Attendance" nzDescription=""></nz-step>
    </nz-steps>
    <nz-divider class="full-height" nzType="vertical"></nz-divider>
        <div class="steps-content" *ngIf="inputForm" [formGroup]="inputForm">
            <div *ngIf="current == 0">
                <div nz-row nzGutter="24" class="mrg-btm">
                    <div nz-col nzSpan="24" class="mrg-btm">
                        <input nz-input placeholder="Name"  formControlName="name" />
                    </div>
                    <div nz-col nzSpan="24" class="mrg-btm">
                        <input nz-input placeholder="GL REVENUE A/C"  formControlName="glRevene" />
                    </div>
                    <div nz-col nzSpan="24" class="mrg-btm">
                        <input nz-input placeholder="GL Cost A/C"  formControlName="glCost" />
                    </div>
                    <div nz-col nzSpan="24" class="mrg-btm">
                        <input nz-input placeholder="Center Name"  formControlName="centerName" />
                    </div>
                    <div nz-col nzSpan="24" class="mrg-btm">
                        <input nz-input placeholder="Address Line 1"  formControlName="addrLine1" />
                    </div>
                    <div nz-col nzSpan="24" class="mrg-btm">
                        <input nz-input placeholder="Address Line 2"  formControlName="addrLine2" />
                    </div>
                    <div nz-col nzSpan="24" class="mrg-btm">
                        <input nz-input placeholder="Phone"  formControlName="Phone" />
                    </div>
                </div>
            </div>
            <div *ngIf="current == 1">
                <div nz-row nzGutter=24>
                    <div nz-col nzSpan="12">
                        <div class="form-group">
                            <label for="">Work Hour Start</label>
                            <nz-select [nzDropdownMatchSelectWidth]="false" formControlName="competency" nzShowSearch nzAllowClear nzPlaceHolder="Select a competency" >
                                <nz-option *ngFor="let d of workStartHour" [nzLabel]="d" [nzValue]="d"></nz-option>
                            </nz-select>
                        </div>
                    </div>
                    <div nz-col nzSpan="12">
                        <div class="form-group">
                            <label for="">Work Hour Finish</label>
                            <nz-select [nzDropdownMatchSelectWidth]="false" formControlName="finishHour" nzShowSearch nzAllowClear style="width:100%;">
                                <nz-option *ngFor="" [nzValue]="" [nzLabel]=""></nz-option> 
                            </nz-select>
                        </div>
                    </div>
                    <div nz-col nzSpan="24" class="mrg-btm">
                        <nz-tabset>
                            <nz-tab nzTitle="WORK HOURS">
                                <div nz-col nzSpan="24" class="mrg-btm">
                                    <input nz-input placeholder="Early Start"  formControlName="earlyStart" />
                                </div>
                                <div nz-col nzSpan="24" class="mrg-btm">
                                    <input nz-input placeholder="Late Start"  formControlName="lateStart" />
                                </div>
                                <div nz-col nzSpan="24" class="mrg-btm">
                                    <input nz-input placeholder="Early Finish"  formControlName="earlyFinish" />
                                </div>
                                <div nz-col nzSpan="24" class="mrg-btm">
                                    <input nz-input placeholder="Late Finish"  formControlName="lateFinish" />
                                </div>
                                <div nz-col nzSpan="24" class="mrg-btm">
                                    <input nz-input placeholder="Overstay"  formControlName="overstay" />
                                </div>
                                <div nz-col nzSpan="24" class="mrg-btm">
                                    <input nz-input placeholder="Understay"  formControlName="understay" />
                                </div>
                            </nz-tab>
                            <nz-tab nzTitle="AFTER HOURS">
                                <div nz-col nzSpan="24" class="mrg-btm">
                                    <input nz-input placeholder="Early Start"  formControlName="t2earlyStart" />
                                </div>
                                <div nz-col nzSpan="24" class="mrg-btm">
                                    <input nz-input placeholder="Late Start"  formControlName="t2lateStart" />
                                </div>
                                <div nz-col nzSpan="24" class="mrg-btm">
                                    <input nz-input placeholder="Early Finish"  formControlName="t2earlyFinish" />
                                </div>
                                <div nz-col nzSpan="24" class="mrg-btm">
                                    <input nz-input placeholder="Late Finish"  formControlName="t2lateFinish" />
                                </div>
                                <div nz-col nzSpan="24" class="mrg-btm">
                                    <input nz-input placeholder="Overstay"  formControlName="t2overstay" />
                                </div>
                                <div nz-col nzSpan="24" class="mrg-btm">
                                    <input nz-input placeholder="Understay"  formControlName="t2understay" />
                                </div>
                            </nz-tab>
                          </nz-tabset>
                    </div>
                    
                </div>
            </div>
            <div *nzModalFooter>
                <ng-container>
                    <button nz-button nzType="default" (click)="pre()" *ngIf="current > 0">
                        <span>Previous</span>
                    </button>
                    <button nz-button nzType="default" (click)="next()" *ngIf="current < 1" >
                        <span>Next</span>
                    </button>
                    <button nz-button nzType="primary" [nzLoading]="postLoading" (click)="save()" *ngIf="current === 1">
                        <span>Done</span>
                    </button>
                </ng-container>
            </div>
        </div>
    </div>
</nz-modal>
</div>